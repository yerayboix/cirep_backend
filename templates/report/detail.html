{% extends 'sidebar.html' %}
{% block title %}Detalles Incidencia{% endblock %}
{% block panel_content %}
    {% load templatefunctions %}
    <div id="detailUser">
        <div class="card shadow border-0 bg-white mt-5 mb-5">
            <div class="card-header d-flex justify-content-between align-items-center shadow"
                 style="background-color: #6096B4!important;">
                <h1 class="m-3 text-white">Detalles: <span>{{ us.first_name }}</span></h1>
                <div>
                    <a class="btn btn-light ml-2 mb-1 shadow" href="{% url 'list_reports' %}" data-toggle="tooltip"
                       data-placement="bottom" title="Volver"><span
                            class="material-icons"
                            style="vertical-align: bottom; color: #00a1ca">arrow_back</span></a>
                </div>
            </div>
            <div class="card-body">
                <!--Error message if it exists-->
                {% if messages %}
                    {% for message in messages %}
                        {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                            <div class="alert alert-danger">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                {{ message }}
                            </div>
                        {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                            <div class="alert alert-success">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                {{ message }}
                            </div>
                        {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
                            <div class="alert alert-info">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                {{ message }}
                            </div>
                        {% endif %}
                    {% endfor %}
                {% endif %}
                <div class="row" style="justify-content: center">
                    <div class="col-md-4 mt-3 text-center"><label for="state">Estado actual:</label>
                        <input class="form-control" type="text" name="state"
                               value="{{ report.state|get_report_state }}"
                               disabled readonly>
                    </div>
                </div>
                <div class="row" style="justify-content: center">
                    <div class="col-md-4 mt-3"><label for="latitude">Latidud:</label>
                        <input type="text" class="form-control" name="latitude"
                               value="{{ report.latitude }}"
                               disabled readonly>
                    </div>
                    <div class="col-md-4 mt-3"><label for="longitude">Longitud:</label>
                        <input type="text" class="form-control" name="longitude"
                               value="{{ report.longitude }}"
                               disabled readonly>
                    </div>
                </div>
                <div class="row" style="justify-content: center">
                    <div class="col-md-4 mt-3"><label for="author">Autor:</label>
                        <input type="text" class="form-control" name="author"
                               value="{{ report.author }}"
                               disabled readonly>
                    </div>
                    <div class="col-md-4 mt-3"><label for="report_date">Fecha de notificaci√≥n:</label>
                        <input type="text" class="form-control" name="report_date"
                               value="{{ report.report_date }}"
                               disabled readonly>
                    </div>
                </div>
                <div class="row" style="justify-content: center">
                    <div class="col-md-4 mt-3 text-center"><label for="report_type">Tipo de incidencia:</label>
                        <input type="text" class="form-control" name="report_type"
                               value="{{ report.report_type }}"
                               disabled readonly>
                    </div>
                </div>
                <div class="row" style="justify-content: center">
                    <div class="col-md-4 mt-3 text-center"><label for="report_type">Imagen:</label>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $('#group_name').change(function () {
                if ($(this).val() === 'M' || $(this).val() === 'R') {
                    $('#responsible').show();
                } else {
                    $('#responsible').hide();
                }
            }).trigger('change');
        });

    </script>

{% endblock %}
